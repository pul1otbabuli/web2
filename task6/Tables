CREATE TABLE application (
id INT(10) NOT NULL AUTO_INCREMENT,
user_id INT(10) NOT NULL UNIQUE,
name VARCHAR(151) NOT NULL DEFAULT '',
phone VARCHAR(20) NOT NULL DEFAULT '',
email VARCHAR(100) NOT NULL DEFAULT '',
bdate DATE NOT NULL DEFAULT '1000-01-01',
gender BOOL NOT NULL DEFAULT 0,
bio TEXT(65535),
PRIMARY KEY (id)
);
CREATE TABLE favoritelang(
id INT(10) NOT NULL AUTO_INCREMENT,
parent_id INT(10) NOT NULL,
fpl VARCHAR(20),
PRIMARY KEY (id)
);
CREATE TABLE users(
user_id INT(10) NOT NULL AUTO_INCREMENT,
login VARCHAR(20) NOT NULL UNIQUE,
password_hash varchar(32) NOT NULL,
PRIMARY KEY (user_id)
);
CREATE TABLE fpls(
id INT(10) NOT NULL AUTO_INCREMENT,
parent_id INT(10) NOT NULL,
fpl VARCHAR(20),
PRIMARY KEY (id)
);
CREATE TABLE admins(
id INT(10) NOT NULL AUTO_INCREMENT,
login VARCHAR(20) NOT NULL UNIQUE,
password_hash varchar(32) NOT NULL,
PRIMARY KEY (id)
);
ALTER TABLE favoritelang
ADD CONSTRAINT FOREIGN KEY (parent_id)
REFERENCES application(id);

ALTER TABLE application
ADD CONSTRAINT FOREIGN KEY (user_id)
REFERENCES users(user_id);
